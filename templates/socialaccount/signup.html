{% extends "users/base_auth.html" %}
{% load i18n %}

{% block title %}FrenchLessons - {% trans "Завершение регистрации" %}{% endblock %}
{% block auth_title %}{% trans "Почти готово" %}{% endblock %}

{% block auth_form %}
    <p class="auth-subtitle">
        {% blocktrans with provider_name=account.get_provider.name site_name=site.name %}Вы собираетесь использовать свой аккаунт {{ provider_name }} для входа в {{ site_name }}. Пожалуйста, выберите имя пользователя для этого сайта ниже.{% endblocktrans %}
    </p>

    <form class="auth-form" id="signup_form" method="post" action="{% url 'socialaccount_signup' %}">
        {% csrf_token %}
        {% for field in form %}
            <p>
                {{ field.label_tag }}
                {{ field }}
                {% if field.errors %}
                    <span class="error-text" style="color: #ff4b4b; font-size: 0.8rem; margin-top: 4px;">{{ field.errors|striptags }}</span>
                {% endif %}
            </p>
        {% endfor %}
        {% if redirect_field_value %}
            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
        {% endif %}
        <button type="submit" class="auth-btn">{% trans "Завершить регистрация" %}</button>
    </form>
{% endblock %}

{% block auth_footer %}
    <p>{% trans "Уже есть аккаунт?" %} <a href="{% url 'account_login' %}">{% trans "Войти" %}</a></p>
{% endblock %}
